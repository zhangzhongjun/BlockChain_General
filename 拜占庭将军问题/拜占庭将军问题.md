## 拜占庭将军问题

拜占庭将军问题（Byzantine failures），是由莱斯利·兰伯特提出的点对点通信中的基本问题。含义是在存在消息丢失的不可靠信道上试图通过消息传递的方式达到一致性是不可能的。因此对一致性的研究一般假设信道是可靠的，或不存在本问题。

在已知有成员谋反的情况下，其余忠诚的将军在不受叛徒的影响下如何达成一致的协议，拜占庭问题就此形成。

> Lamport 证明了当有m个叛徒，而将军数小于3m+1时，该问题无解。

要实现的效果：
A. 所有忠诚的将军必须达成相同的行动计划。

忠诚的将军将会做该算法要求他们做的事情，但是叛变的将军可以做任何他们想做的事情。无论叛变的将军会做什么，算法必须要保证条件A。

通过让所有的将军使用同一种方法就可以满足条件A。

B. 当只有少数人是叛徒的时候，他们不能导致那些诚实的将军们采纳一个糟糕的计划。

要实现上诉的条件A，需要满足如下的两个条件：

1. 每个忠诚的将军必须收到相同的v(1) v(2) ... v(n)

上诉条件暗示了一个将军并没有必要使用一个直接从第i个将军那里接收到的v(i)值

2. 如果第i个将军是忠诚的，那么其他的忠诚的将军必须使用他发送的值作为v(i)的值。

可以将上诉的条件1改写为 任意两个忠诚的将军使用相同的v(i)值。此时，我们可以把拜占庭问题转化为如下的问题：

Byzantine Generals Problem的定义：一个发令将军向他的n-1个下属将军发送命令，使得：

IC1. 所有忠诚的下属都遵守相同的命令

IC2. 如果发令将军是忠诚的，那么每个忠诚的下属必须遵守他发出的命令。

> 为了解决最初的问题，第i个将军只需要利用拜占庭将军问题的解法发送命令”使用v(i)作为我的值”，就可以将他的值v(i)发送给其他的将军。此时其他的将军就扮演拜占庭将军问题中的下属的角色。
UTXO(Unspent Transaction Output)包含两部分
1. 所有者
2. 余额

APPLY(S,TX) -> S`
1. TX中的每个输入，如果被引用的UTXO不在S中，返回一个错误
2. TX中的每个输入，如果提供的签名和UTXO中的所有者不匹配，则返回一个错误
3. 如果所有的输入UTXO的总和 小于 所有的输出UTXO的总和，则返回一个错误

验证一个区块的过程
1. 检查该区块引用的上一个区块是否存在并且有效
2. 检查该区块的时间戳是否大于上一个区块的时间戳并且小于2小时
3. 检查该区块上的POW是否有效
4. 是S[0]成为上一个区块最末端的状态
5. 对于每个交易TX，S[i+1] = APPLY(S[i],TX),如果任意一个APPLY出错，则返回false
6. 返回true，将S[n]放在该区块的最末端的状态

简化支付验证 SPV
1. 只下载和保存区块的头信息
2. 在区块头中验证POW
3. 只下载merkle 树中与该交易相关的分支